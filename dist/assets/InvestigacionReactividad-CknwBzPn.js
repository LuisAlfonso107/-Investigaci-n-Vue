import{t as y,w as I,b as P,r as R,d as $,e as h,f as b,o as p,c as m,g as t,h as v,i as g,v as _,u as r,j as x,k as c,_ as w,n as C,l as k,m as f,s as V,p as T}from"./index-C61XouVA.js";function z(){const i=$(0),a=R({name:'Monitor 27"',price:249,stock:15,discount:.1}),{name:l,price:n,discount:s}=y(a),d=h(()=>n.value*i.value),o=h(()=>{const e=d.value*(1-s.value);return Math.round(e*100)/100});return I([i,n,s],([e,u,S])=>{console.log(`Carrito actualizado → Cant: ${e}, Precio: €${u}, Desc: ${(S*100).toFixed(0)}%`)},{immediate:!0}),P(()=>{o.value>500&&console.warn("¡Compra grande detectada! Total:",o.value)}),{counter:i,name:l,price:n,discount:s,subtotal:d,finalPrice:o}}const E={class:"mb-12 border-b pb-8"},D={class:"cart-container"},j={class:"cart-inputs"},F={class:"input-group"},M={class:"input-group"},N={class:"price-input-wrapper"},U={class:"cart-totals"},A={class:"total-item"},B={class:"total-value"},L={class:"total-item final"},O={class:"total-value final-price"},W=b({__name:"SectionComputedWatch",setup(i){const{counter:a,price:l,subtotal:n,finalPrice:s}=z();return(d,o)=>(p(),m("section",E,[o[9]||(o[9]=t("h2",{class:"text-2xl font-semibold mb-4"},"3. computed, watch y watchEffect",-1)),o[10]||(o[10]=t("p",{class:"mb-4"},[t("strong",null,"computed"),v(": valores derivados cacheados."),t("br"),t("strong",null,"watch"),v(": observa valores específicos."),t("br"),t("strong",null,"watchEffect"),v(": efecto automático con dependencias implícitas. ")],-1)),t("div",D,[o[7]||(o[7]=t("h3",{class:"cart-title"}," Carrito de compra",-1)),t("div",j,[t("div",F,[o[2]||(o[2]=t("label",{class:"input-label"},"Cantidad:",-1)),g(t("input",{"onUpdate:modelValue":o[0]||(o[0]=e=>x(a)?a.value=e:null),type:"number",min:"1",class:"cart-input"},null,512),[[_,r(a),void 0,{number:!0}]])]),t("div",M,[o[4]||(o[4]=t("label",{class:"input-label"},"Precio unitario:",-1)),t("div",N,[o[3]||(o[3]=t("span",{class:"currency"},"€",-1)),g(t("input",{"onUpdate:modelValue":o[1]||(o[1]=e=>x(l)?l.value=e:null),type:"number",min:"0",class:"cart-input"},null,512),[[_,r(l),void 0,{number:!0}]])])])]),t("div",U,[t("div",A,[o[5]||(o[5]=t("span",{class:"total-label"},"Subtotal:",-1)),t("span",B,"€ "+c(r(n).toFixed(2)),1)]),t("div",L,[o[6]||(o[6]=t("span",{class:"total-label"},"Total con descuento:",-1)),t("span",O,"€ "+c(r(s).toFixed(2)),1)])]),o[8]||(o[8]=t("div",{class:"cart-note"}," Revisa la consola: watch y watchEffect se disparan automáticamente. ",-1))])]))}}),q=w(W,[["__scopeId","data-v-6084841e"]]),G=b({__name:"ThemePreview",props:{theme:{}},setup(i){return(a,l)=>(p(),m("div",{class:C(["p-6 rounded-lg shadow-lg",i.theme==="light"?"bg-white text-gray-900":"bg-gray-900 text-white"])},[l[1]||(l[1]=t("h3",{class:"text-xl mb-2"},"Vista previa del tema",-1)),t("p",null,[l[0]||(l[0]=v("Modo actual: ",-1)),t("strong",null,c(i.theme),1)]),l[2]||(l[2]=t("p",{class:"mt-2"},"Este panel inyecta el tema desde App.vue",-1))],2))}}),H={class:"mb-12"},J={class:"theme-controls"},K={class:"btn-icon"},Q={class:"btn-text"},X={class:"theme-preview-wrapper"},Y=b({__name:"SectionProvideInject",props:{toggle:{type:Function}},setup(i){const a=i,l=k("theme");return(n,s)=>(p(),m("section",H,[s[1]||(s[1]=t("h2",{class:"text-2xl font-semibold mb-4"},"4. Estado global simple (provide / inject)",-1)),s[2]||(s[2]=t("p",{class:"mb-4"}," Sin Pinia/Vuex → ideal para temas, usuario logueado, idioma, etc. en apps medianas. ",-1)),t("div",J,[t("button",{onClick:s[0]||(s[0]=(...d)=>a.toggle&&a.toggle(...d)),class:"theme-toggle-btn"},[t("span",K,c(r(l)==="light"?"dark mode":"light mode"),1),t("span",Q," Cambiar a modo "+c(r(l)==="light"?"oscuro":"claro"),1)]),t("div",X,[f(G,{theme:r(l)||"light"},null,8,["theme"])])])]))}}),Z=w(Y,[["__scopeId","data-v-9b2b5c4b"]]),tt={class:"mb-12 border-b pb-8"},st={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},et={class:"ref-section"},ot={class:"counter-display"},at={class:"ref-section"},lt={class:"product-form space-y-3"},nt={class:"ml-2 text-white"},it=b({__name:"SectionRefReactiveToRefs",setup(i){const a=$(0),l=R({name:'Monitor 27"',price:249,stock:15,discount:.1}),{name:n,price:s,discount:d}=y(l);return(o,e)=>(p(),m("section",tt,[e[9]||(e[9]=t("h2",{class:"text-2xl font-semibold mb-4"},"1. ref, reactive y toRefs",-1)),e[10]||(e[10]=t("p",{class:"mb-4"},[t("strong",null,"ref"),v(" → valores primitivos. "),t("strong",null,"reactive"),v(" → objetos completos (Proxy)."),t("br"),t("strong",null,"toRefs"),v(" → desestructura reactive sin perder reactividad (ideal para v-model). ")],-1)),t("div",st,[t("div",et,[e[4]||(e[4]=t("h3",{class:"text-lg font-medium mb-3 text-white"},"Contador simple (ref)",-1)),t("div",ot,c(a.value),1),t("button",{onClick:e[0]||(e[0]=u=>a.value++),class:"increment-btn"},"Incrementar +1")]),t("div",at,[e[8]||(e[8]=t("h3",{class:"text-lg font-medium mb-3 text-white"},"Producto editable (reactive + toRefs)",-1)),t("div",lt,[t("div",null,[e[5]||(e[5]=t("label",{class:"product-label"},"Nombre:",-1)),g(t("input",{"onUpdate:modelValue":e[1]||(e[1]=u=>x(n)?n.value=u:null)},null,512),[[_,r(n)]])]),t("div",null,[e[6]||(e[6]=t("label",{class:"product-label"},"Precio: €",-1)),g(t("input",{"onUpdate:modelValue":e[2]||(e[2]=u=>x(s)?s.value=u:null),type:"number"},null,512),[[_,r(s),void 0,{number:!0}]])]),t("div",null,[e[7]||(e[7]=t("label",{class:"product-label"},"Descuento:",-1)),g(t("input",{"onUpdate:modelValue":e[3]||(e[3]=u=>x(d)?d.value=u:null),type:"number",step:"0.05",min:"0",max:"1"},null,512),[[_,r(d),void 0,{number:!0}]]),t("span",nt,"("+c((r(d)*100).toFixed(0))+"%)",1)])])])])]))}}),rt=w(it,[["__scopeId","data-v-f1b19cac"]]),dt={class:"mb-12 border-b pb-8"},ct={key:0,class:"shallow-data-container"},ut={class:"data-stats"},pt={class:"stat-item"},mt={class:"stat-value"},vt={class:"stat-item"},bt={class:"stat-value"},ft={key:1,class:"shallow-placeholder"},gt=b({__name:"SectionShallowRef",setup(i){const a=V(null),l=()=>{a.value={items:Array(5e3).fill("").map((n,s)=>`Registro #${s+1}`),total:12500}};return(n,s)=>(p(),m("section",dt,[s[3]||(s[3]=t("h2",{class:"text-2xl font-semibold mb-4"},"2. shallowRef y optimización",-1)),s[4]||(s[4]=t("p",{class:"mb-4"}," Solo rastrea cambios en la referencia raíz → ideal para datos grandes de API que reemplazamos enteros. ",-1)),t("button",{onClick:l,class:"shallow-load-btn"}," Cargar datos simulados (5000 items) "),a.value?(p(),m("div",ct,[t("div",ut,[t("div",pt,[s[0]||(s[0]=t("span",{class:"stat-label"},"Items cargados:",-1)),t("span",mt,c(a.value.items.length),1)]),t("div",vt,[s[1]||(s[1]=t("span",{class:"stat-label"},"Total en base:",-1)),t("span",bt,c(a.value.total),1)])]),s[2]||(s[2]=t("div",{class:"shallow-explanation"},[t("strong",null," Optimización shallowRef:"),v(" Cambios internos en items[] NO disparan actualización (solo cuando reemplazamos la referencia completa) ")],-1))])):(p(),m("p",ft,"Pulsa el botón para cargar datos grandes..."))]))}}),_t=w(gt,[["__scopeId","data-v-aa8850c9"]]),xt=b({__name:"InvestigacionReactividad",setup(i){const a=$("light");T("theme",a);const l=()=>{a.value=a.value==="light"?"dark":"light"};return(n,s)=>(p(),m("div",{class:C(["investigacion p-6 max-w-5xl mx-auto",a.value])},[s[0]||(s[0]=t("h1",{class:"text-3xl font-bold mb-8 text-center"}," Investigación: Reactividad y Estado en Vue 3 ",-1)),f(rt),f(_t),f(q),f(Z,{toggle:l}),s[1]||(s[1]=t("footer",{class:"text-center mt-12 pt-8 border-t"},[t("p",{class:"text-lg font-medium"}," Conclusión: Vue 3 ofrece reactividad automática y flexible... ")],-1))],2))}}),$t=w(xt,[["__scopeId","data-v-f676c036"]]);export{$t as default};
